@using Mausam.Models
@using Mausam.Utils

<div class="rounded-2xl bg-white p-6 shadow-sm">
    @if (CurrentWeather != null)
    {
        <div class="flex items-start justify-between mb-4">
            <div>
                <h2 class="text-xl font-semibold text-slate-900">@LocationName</h2>
                <div class="mt-1 text-6xl font-bold text-slate-900">@CurrentWeather.Temperature°C</div>
                <div class="mt-2 flex items-center gap-2 text-slate-600">
                    <span class="text-3xl">@GetWeatherIcon(CurrentWeather.WeatherCode)</span>
                    <span class="text-lg">@GetWeatherDescription(CurrentWeather.WeatherCode)</span>
                </div>
            </div>
            <div class="text-right">
                <div class="text-sm text-slate-500">@DateTime.Now.ToString("dddd, MMM dd")</div>
                <div class="text-sm text-slate-500">@DateTime.Now.ToString("HH:mm")</div>
            </div>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="rounded-xl bg-slate-50 p-4">
                <div class="flex items-center gap-2 text-slate-600 mb-1">
                    <i class="fas fa-wind"></i>
                    <span class="text-sm">Wind</span>
                </div>
                <div class="text-2xl font-semibold text-slate-900">@CurrentWeather.WindSpeed km/h</div>
            </div>
            
            <div class="rounded-xl bg-slate-50 p-4">
                <div class="flex items-center gap-2 text-slate-600 mb-1">
                    <i class="fas fa-tint"></i>
                    <span class="text-sm">Precipitation</span>
                </div>
                <div class="text-2xl font-semibold text-slate-900">@CurrentWeather.Precipitation mm</div>
            </div>
            
            <div class="rounded-xl bg-slate-50 p-4">
                <div class="flex items-center gap-2 text-slate-600 mb-1">
                    <i class="fas fa-eye"></i>
                    <span class="text-sm">Visibility</span>
                </div>
                <div class="text-2xl font-semibold text-slate-900">@(CurrentWeather.Visibility ?? 0) km</div>
            </div>
            
            <div class="rounded-xl bg-slate-50 p-4">
                <div class="flex items-center gap-2 text-slate-600 mb-1">
                    <i class="fas fa-thermometer-half"></i>
                    <span class="text-sm">Feels like</span>
                </div>
                <div class="text-2xl font-semibold text-slate-900">@(CurrentWeather.ApparentTemperature ?? CurrentWeather.Temperature)°C</div>
            </div>
        </div>
    }
    else
    {
        <div class="text-center py-12">
            <i class="fas fa-cloud text-6xl text-slate-300 mb-4"></i>
            <div class="text-slate-600 text-lg">Search for a place to see weather</div>
        </div>
    }
</div>

@code {
    [Parameter] public CurrentWeather? CurrentWeather { get; set; }
    [Parameter] public string LocationName { get; set; } = "";

    private MarkupString GetWeatherIcon(int code) => WeatherUtils.GetWeatherIcon(code);
    private string GetWeatherDescription(int code) => WeatherUtils.GetWeatherDescription(code);
}
